{"version":3,"sources":["app.ts","environment.ts","grid-i18n.ts","main.ts","resources/index.ts","C:/Development/kendo-i18n/src/app.html"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {inject} from 'aurelia-framework';\nimport {I18N} from 'aurelia-i18n';\n\n@inject(I18N)\nexport class App {\n\n  constructor(private i18n: I18N) {}\n\n  changeLanguage() {\n    this.i18n.setLocale('de');\n  }\n\n  datasource = {\n    data: [{\n        \"ProductID\": 1,\n        \"ProductName\": \"Chai\",\n        \"SupplierID\": 1,\n        \"CategoryID\": 1,\n        \"QuantityPerUnit\": \"10 boxes x 20 bags\",\n        \"UnitPrice\": 18,\n        \"UnitsInStock\": 39,\n        \"UnitsOnOrder\": 0,\n        \"ReorderLevel\": 10,\n        \"Discontinued\": false,\n        \"Category\": {\n          \"CategoryID\": 1,\n          \"CategoryName\": \"Beverages\",\n          \"Description\": \"Soft drinks, coffees, teas, beers, and ales\"\n        }\n    },\n    {\n        \"ProductID\": 2,\n        \"ProductName\": \"Chang\",\n        \"SupplierID\": 1,\n        \"CategoryID\": 1,\n        \"QuantityPerUnit\": \"24 - 12 oz bottles\",\n        \"UnitPrice\": 19,\n        \"UnitsInStock\": 17,\n        \"UnitsOnOrder\": 40,\n        \"ReorderLevel\": 25,\n        \"Discontinued\": false,\n        \"Category\": {\n          \"CategoryID\": 1,\n          \"CategoryName\": \"Beverages\",\n          \"Description\": \"Soft drinks, coffees, teas, beers, and ales\"\n        }\n    }],\n    schema: {\n      model: {\n        fields: {\n          ProductName: { type: 'string' },\n          UnitPrice: { type: 'number' },\n          UnitsInStock: { type: 'number' },\n          Discontinued: { type: 'boolean' }\n        }\n      }\n    },\n    pageSize: 10\n  };\n}","export default {\n  debug: true,\n  testing: true\n};\n","import {customAttribute, inject, bindable} from 'aurelia-framework';\r\nimport {EventAggregator, Subscription} from 'aurelia-event-aggregator';\r\nimport {I18N} from 'aurelia-i18n';\r\n\r\n@customAttribute('grid-i18n')\r\n@inject(EventAggregator, Element, I18N)\r\nexport class GridI18n {\r\n\r\n  subscription: Subscription;\r\n  @bindable grid: kendo.ui.Grid;\r\n\r\n  constructor(private ea: EventAggregator, \r\n              private element: Element,\r\n              private i18n: I18N) {}\r\n\r\n  attached() {\r\n    this.subscription = this.ea.subscribe('i18n:locale:changed', () => { \r\n      console.log('UPDATE');\r\n      this.refreshGrid();\r\n    });\r\n  }\r\n\r\n  refreshGrid() {\r\n    this.i18n.updateTranslations(this.element);\r\n\r\n    setTimeout(() => {\r\n let columnVM = (<any>this.element).au.controller.viewModel;\r\n    console.log(columnVM.kTitle);\r\n    \r\n    // let grid: kendo.ui.Grid = gridVM.kWidget;\r\n    // console.log(columnVM);\r\n    \r\n    let options = this.grid.getOptions();\r\n\r\n    for(let column of options.columns) {\r\n      if (column.field === columnVM.kField) {\r\n        column.title = columnVM.kTitle;\r\n      }\r\n    }\r\n    }, 200)\r\n   \r\n    // setTimeout(() => {\r\n    // this.grid.setOptions(options);\r\n    // }, 200);\r\n  }\r\n\r\n  detached() {\r\n    this.subscription.dispose();\r\n  }\r\n}","import {Aurelia} from 'aurelia-framework'\nimport environment from './environment';\nimport {I18N} from 'aurelia-i18n';\nimport * as Backend from 'i18next-xhr-backend';\n\n//Configure Bluebird Promises.\n(<any>Promise).config({\n  longStackTraces: environment.debug,\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia: Aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .plugin('aurelia-kendoui-bridge')\n    .plugin('aurelia-i18n', (instance) => {\n      // register backend plugin\n      instance.i18next.use(Backend);\n\n      // adapt options to your needs (see http://i18next.com/docs/options/)\n      // make sure to return the promise of the setup method, in order to guarantee proper loading\n      return instance.setup({\n        backend: {                                  // <-- configure backend settings\n          loadPath: './locales/{{lng}}/translation.json', // <-- XHR settings for where to get the files from\n        },\n        lng : 'en',\n        attributes : ['t','i18n'],\n        fallbackLng : 'en',\n        debug : false\n      });\n    })\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  //config.globalResources([]);\n}\n",null],"sourceRoot":"../src"}